---
import BaseHead from '../components/BaseHead.astro';
import Footer from '../components/Footer.astro';
import { SITE_DESCRIPTION, SITE_TITLE } from '../consts';
---

<!doctype html>
<html lang="en">
	<head>
		<BaseHead title={SITE_TITLE} description={SITE_DESCRIPTION} />
	</head>
	<body>
		<!-- Northern Lights & Snow -->
		<div class="background-gradient">
			<div class="aurora"></div>
		</div>
		<div id="snow-container" class="snow-container"></div>

		<main>
			<!-- Hero Section -->
			<div class="hero animate">
				<div class="hero-top">
					<div class="name-wrapper">
						<!-- SVG Santa Hat -->
						<svg class="svg-hat" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
							<path d="M20 80C20 80 35 30 70 20C70 20 60 50 80 80" fill="#DC2626" stroke="#DC2626" stroke-width="2"/>
							<circle cx="85" cy="85" r="10" fill="white"/>
							<rect x="15" y="80" width="70" height="15" rx="7.5" fill="white"/>
							<path d="M20 80C35 50 50 35 70 20" stroke="white" stroke-width="2" stroke-opacity="0.2"/>
						</svg>
						<h1>alok gupta</h1>
					</div>
					<p class="quote">“The more I know, I know how little I know.”</p>
				</div>
				
				<div class="hero-meta">
					<p class="tagline">software engineer <span class="sep">•</span> open source contributor <span class="sep">•</span> photographer</p>
					
					<!-- Life Timer -->
					<div class="life-timer-container">
						<span class="life-label">On Earth for</span>
						<div class="timer-value">
							<span id="life-timer">Calculating...</span>
							<span class="unit">y</span>
						</div>
					</div>
				</div>
			</div>

			<!-- About Section -->
			<section class="section animate delay-1">
				<h2>about</h2>
				<p>
					I am <b>Alok Gupta</b>, a software engineer who enjoys building real-world systems that people actually use. I learn best by taking ownership and <b>building, breaking, and improving</b> systems in production environments.
				</p>
				<p>
					I have worked on critical backend systems at <b>takeUforward</b>, where my work supports over <b>1.5 million submissions per month</b>. I have also built scalable payment and recommendation systems at <b>Grapevine</b>, and contributed to open source by improving CI/CD and testing workflows as a <b>Google Summer of Code</b> contributor.
				</p>
				<p>
					I am deeply interested in <b>backend engineering</b>, <b>distributed systems</b>, and <b>open source</b>. Outside of coding, I enjoy observing and capturing <b>people, nature, and everyday moments</b>.
				</p>
			</section>

			<!-- Cool Places I Work (Minimal) -->
			<section class="section animate delay-2">
				<h2>cool places i work</h2>
				<div class="list">
					<!-- FamPay -->
					<div class="list-item">
						<div class="list-header">
							<span class="list-title">FamPay</span>
							<span class="list-meta">Upcoming</span>
						</div>
						<p class="list-role">Software Engineer Intern • Bangalore</p>
					</div>

					<!-- Grapevine -->
					<div class="list-item">
						<div class="list-header">
							<span class="list-title">Grapevine Round1 AI</span>
							<span class="list-meta">July 2025 – Nov 2025</span>
						</div>
						<p class="list-role">Software Engineer Intern • Onsite Bangalore</p>
					</div>

					<!-- TakeUForward -->
					<div class="list-item">
						<div class="list-header">
							<span class="list-title">TakeUForward</span>
							<span class="list-meta">Sep 2024 – July 2025</span>
						</div>
						<p class="list-role">Software Engineer Intern • Remote</p>
					</div>

					<!-- GSoC -->
					<div class="list-item">
						<div class="list-header">
							<span class="list-title">Google Summer of Code</span>
							<span class="list-meta">May 2024 - Aug 2024</span>
						</div>
						<p class="list-role">Open Source Contributor • JSON Schema (Remote)</p>
					</div>
				</div>
			</section>

			<!-- Selected Projects -->
			<section class="section animate delay-3">
				<h2>cool things i build at cool places</h2>
				<div class="list">
					<!-- Grapevine Projects -->
					<div class="list-item">
						<div class="list-header">
							<span class="list-title">Reliable Payment & Notification Systems</span>
							<span class="list-meta">Grapevine</span>
						</div>
						<p class="list-role">Architecture & High-Scale Systems</p>
						<ul class="list-bullets">
							<li>Engineered a robust payment system integrating <b>Razorpay, PhonePe, and Apple Pay</b> within a queue-based architecture to ensure 100% reliable order processing.</li>
							<li>Built a high-throughput notification platform serving <b>600k+ users</b>, utilizing batching strategies and direct APNs integration to handle massive traffic spikes efficiently.</li>
							<li>Designed a SQL-based recommendation feed for the Next-Boss feature, optimizing queries to serve relevant content to users in real-time.</li>
						</ul>
					</div>

					<!-- TakeUForward Projects -->
					<div class="list-item">
						<div class="list-header">
							<span class="list-title">Algorithmic Interview Platform</span>
							<span class="list-meta">TakeUForward</span>
						</div>
						<p class="list-role">Full Stack & System Design</p>
						<ul class="list-bullets">
							<li>Architected the entire interview platform from scratch (Frontend, Backend, DB), enabling users to read and share interactive interview stories.</li>
							<li>Developed a custom complex data serializer/deserializer handling <b>1.5 million+ submissions/month</b> for Arrays, Trees, Graphs, and other data structures.</li>
							<li>Implemented comprehensive API monitoring using <b>Prometheus and Grafana</b> to track P50, P99 latency, and error rates across all microservices.</li>
							<li>Built a feature that shows exactly which test case failed with input and output details making debugging much faster.</li>
						</ul>
					</div>

					<!-- GSoC Projects -->
					<div class="list-item">
						<div class="list-header">
							<span class="list-title">CI/CD & Testing Infrastructure</span>
							<span class="list-meta">JSON Schema (GSoC)</span>
						</div>
						<p class="list-role">DevOps & Automation</p>
						<ul class="list-bullets">
							<li>Automated the entire deployment pipeline using <b>GitHub Actions</b>, including link checking, build verification, and automated testing.</li>
							<li>Innovated a custom workflow for <b>Preview Deployments on Forked PRs</b>, overcoming Cloudflare limitations and boosting code review efficiency by 50%.</li>
							<li>Established a complete end-to-end testing suite using <b>Cypress with Codecov</b>, increasing test coverage and code quality metrics by 75%.</li>
						</ul>
					</div>
				</div>
			</section>

			<!-- Skills Section -->
			<section class="section animate delay-4">
				<h2>cool things i know</h2>
				<div class="skills-grid">
					<div class="skill-category">
						<span class="skill-label">Languages</span>
						<span class="skill-items">JavaScript, TypeScript, Python, C++, SQL</span>
					</div>
					<div class="skill-category">
						<span class="skill-label">Backend</span>
						<span class="skill-items">Node.js, Express, Django, GraphQL, REST</span>
					</div>
					<div class="skill-category">
						<span class="skill-label">Infrastructure</span>
						<span class="skill-items">Docker, Redis, AWS, GitHub Actions</span>
					</div>
					<div class="skill-category">
						<span class="skill-label">Databases</span>
						<span class="skill-items">MongoDB, MySQL, PostgreSQL</span>
					</div>
				</div>
			</section>

			<!-- Connect Section -->
			<section class="section animate delay-4">
				<h2>connect</h2>
				<div class="links-grid" style="display: flex; gap: 1.5rem; justify-content: center; flex-wrap: wrap;">
					<a href="https://github.com/aialok" target="_blank">GitHub</a>
					<a href="https://twitter.com/ai_alok" target="_blank">Twitter</a>
					<a href="https://www.linkedin.com/in/aialok/" target="_blank">LinkedIn</a>
					<a href="https://www.instagram.com/ai.alok/" target="_blank">Instagram</a>
				</div>
			</section>
		</main>
		<Footer />

		<!-- Scripts -->
		<script>
			// Life Timer Logic (Decimal Years)
			const birthDate = new Date('2003-10-15T00:00:00');
			const timerElement = document.getElementById('life-timer');

			function updateLifeTimer() {
				const now = new Date();
				const diff = now - birthDate;
				const years = diff / (1000 * 60 * 60 * 24 * 365.25);
				
				timerElement.innerText = years.toFixed(9);
				requestAnimationFrame(updateLifeTimer);
			}
			
			updateLifeTimer();

			// Snow Script (Preserved)
			const snowContainer = document.getElementById('snow-container');
			function createSnowflake() {
				const snowflake = document.createElement('div');
				snowflake.innerHTML = '❄';
				snowflake.classList.add('snowflake');
				snowflake.style.left = Math.random() * 100 + 'vw';
				snowflake.style.fontSize = (Math.random() * 0.6 + 0.8) + 'em';
				snowflake.style.opacity = Math.random() * 0.4 + 0.4;
				snowflake.style.animationDuration = (Math.random() * 5 + 3) + 's';
				snowContainer.appendChild(snowflake);
				setTimeout(() => snowflake.remove(), 8000);
			}
			setInterval(createSnowflake, 200);
			for(let i=0; i<30; i++) setTimeout(createSnowflake, Math.random() * 1000);
		</script>

		<style>
			.hero-top {
				width: 100%;
			}
			.quote {
				font-family: 'Space Grotesk', sans-serif;
				font-style: italic;
				color: var(--text-faint);
				font-size: 1rem;
				margin-top: -0.5rem; /* Tuck under name */
				margin-bottom: 2rem;
				max-width: 600px;
			}
			.hero-meta {
				display: flex;
				justify-content: space-between;
				align-items: flex-end;
				width: 100%;
				margin-top: 0;
				padding-top: 2rem;
				border-top: 1px solid rgba(0,0,0,0.05);
			}
			/* Local Styles for Timer & Lists */
			.tagline .sep {
				color: var(--accent-red);
				margin: 0 0.5rem;
				opacity: 0.6;
			}
			.tagline {
				margin: 0;
				max-width: 50%; /* Tighter width */
				line-height: 1.5;
			}
			.life-timer-container {
				margin-top: 0;
				display: flex;
				flex-direction: column;
				align-items: flex-end; /* Align right */
				justify-content: center;
				gap: 0; /* Tighter spacing */
			}
			.life-label {
				font-family: 'Space Grotesk', sans-serif;
				font-size: 0.7rem;
				font-weight: 600;
				text-transform: uppercase;
				letter-spacing: 0.15em;
				color: var(--text-muted);
				opacity: 1; /* More visible */
				text-align: right;
				margin-bottom: 0.2rem;
			}
			.timer-value {
				font-family: 'Space Grotesk', monospace;
				font-weight: 400; /* Slightly thicker than 300 */
				font-size: 1.8rem; /* Large */
				color: var(--text);
				font-variant-numeric: tabular-nums;
				letter-spacing: -0.04em;
				display: flex;
				align-items: baseline;
				gap: 0.4rem;
				line-height: 1;
			}
			.unit {
				font-family: 'Space Grotesk', sans-serif;
				font-size: 1rem;
				color: var(--text-muted);
				font-weight: 500;
			}

			/* Detailed List Styles */
			.list-role {
				font-size: 0.9rem;
				color: var(--text-muted);
				font-weight: 500;
				margin-bottom: 0.5rem;
			}
			.list-bullets {
				margin: 0;
				padding-left: 1.2rem;
				list-style-type: disc;
			}
			.list-bullets li {
				margin-bottom: 0.5rem;
				color: var(--text-muted);
				font-size: 0.95rem;
				line-height: 1.6;
			}
		</style>
	</body>
</html>
